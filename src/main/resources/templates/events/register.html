<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::title}, ~{::section})}">
<head>
    <title th:text="'Register for ' + ${event.title}">Register for Event</title>
</head>
<body>
<section class="py-5">
    <div class="container">

        <!-- Header -->
        <div class="text-center mb-4">
            <h2 class="fw-bold" th:text="'Register for ' + ${event.title}">Event Title</h2>
            <p class="text-muted mb-0">
                <i class="fas fa-calendar-alt"></i>
                <span th:text="${#temporals.format(event.eventDate, 'MMMM dd, yyyy HH:mm')}">Event Date</span> |
                <i class="fas fa-map-marker-alt"></i>
                <span th:text="${event.venue}">Venue</span>
            </p>
        </div>

        <!-- Event Details Card -->
        <div class="card shadow-sm mb-4">
            <div class="card-body">
                <p><strong>Description:</strong></p>
                <p th:text="${event.description}">Event details go here...</p>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <p><strong>Max Participants:</strong>
                            <span th:text="${event.maxParticipants != null ? event.maxParticipants : 'N/A'}"></span>
                        </p>
                    </div>
                    <div class="col-md-6">
                        <p><strong>Organizer:</strong>
                            <span th:text="${event.createdBy.fullName}">John Doe</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Display Event Image (if available) -->
        <div th:if="${event.imageUrl}" class="text-center mb-4">
            <img th:src="${event.imageUrl}" alt="Event Image" class="img-fluid rounded shadow-sm" style="max-height: 300px;">
        </div>

        <!-- Flash Messages -->
        <div th:if="${successMessage}" class="alert alert-success" th:text="${successMessage}"></div>
        <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

        <!-- Register Button -->
        <form th:action="@{/events/{id}/register(id=${event.id})}" method="post" class="text-center">
            <button type="submit" class="btn btn-gradient-primary px-4 py-2">
                <i class="fas fa-check-circle"></i> Confirm Registration
            </button>
        </form>

        <!-- Back to Events -->
        <div class="text-center mt-3">
            <a th:href="@{/events}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left"></i> Back to Events
            </a>
        </div>
    </div>
</section>
</body>
</html>
